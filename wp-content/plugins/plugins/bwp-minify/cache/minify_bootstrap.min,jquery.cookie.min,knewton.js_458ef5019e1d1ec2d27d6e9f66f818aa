!function(e){"use strict";var t=function(t,n){this.options=e.extend({},e.fn.affix.defaults,n);this.$window=e(window).on("scroll.affix.data-api",e.proxy(this.checkPosition,this)).on("click.affix.data-api",e.proxy(function(){setTimeout(e.proxy(this.checkPosition,this),1)},this));this.$element=e(t);this.checkPosition()};t.prototype.checkPosition=function(){if(!this.$element.is(":visible"))return;var t=e(document).height(),n=this.$window.scrollTop(),r=this.$element.offset(),i=this.options.offset,s=i.bottom,o=i.top,u="affix affix-top affix-bottom",a;if(typeof i!="object")s=o=i;if(typeof o=="function")o=i.top();if(typeof s=="function")s=i.bottom();a=this.unpin!=null&&n+this.unpin<=r.top?false:s!=null&&r.top+this.$element.height()>=t-s?"bottom":o!=null&&n<=o?"top":false;if(this.affixed===a)return;this.affixed=a;this.unpin=a=="bottom"?r.top-n:null;this.$element.removeClass(u).addClass("affix"+(a?"-"+a:""))};var n=e.fn.affix;e.fn.affix=function(n){return this.each(function(){var r=e(this),i=r.data("affix"),s=typeof n=="object"&&n;if(!i)r.data("affix",i=new t(this,s));if(typeof n=="string")i[n]()})};e.fn.affix.Constructor=t;e.fn.affix.defaults={offset:0};e.fn.affix.noConflict=function(){e.fn.affix=n;return this};e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),n=t.data();n.offset=n.offset||{};n.offsetBottom&&(n.offset.bottom=n.offsetBottom);n.offsetTop&&(n.offset.top=n.offsetTop);t.affix(n)})})}(window.jQuery);!function(e){"use strict";var t=function(t,n){this.$element=e(t);this.options=e.extend({},e.fn.collapse.defaults,n);if(this.options.parent){this.$parent=e(this.options.parent)}this.options.toggle&&this.toggle()};t.prototype={constructor:t,dimension:function(){var e=this.$element.hasClass("width");return e?"width":"height"},show:function(){var t,n,r,i;if(this.transitioning)return;t=this.dimension();n=e.camelCase(["scroll",t].join("-"));r=this.$parent&&this.$parent.find("> .accordion-group > .in");if(r&&r.length){i=r.data("collapse");if(i&&i.transitioning)return;r.collapse("hide");i||r.data("collapse",null)}this.$element[t](0);this.transition("addClass",e.Event("show"),"shown");e.support.transition&&this.$element[t](this.$element[0][n])},hide:function(){var t;if(this.transitioning)return;t=this.dimension();this.reset(this.$element[t]());this.transition("removeClass",e.Event("hide"),"hidden");this.$element[t](0)},reset:function(e){var t=this.dimension();this.$element.removeClass("collapse")[t](e||"auto")[0].offsetWidth;this.$element[e!==null?"addClass":"removeClass"]("collapse");return this},transition:function(t,n,r){var i=this,s=function(){if(n.type=="show")i.reset();i.transitioning=0;i.$element.trigger(r)};this.$element.trigger(n);if(n.isDefaultPrevented())return;this.transitioning=1;this.$element[t]("in");e.support.transition&&this.$element.hasClass("collapse")?this.$element.one(e.support.transition.end,s):s()},toggle:function(){this[this.$element.hasClass("in")?"hide":"show"]()}};var n=e.fn.collapse;e.fn.collapse=function(n){return this.each(function(){var r=e(this),i=r.data("collapse"),s=typeof n=="object"&&n;if(!i)r.data("collapse",i=new t(this,s));if(typeof n=="string")i[n]()})};e.fn.collapse.defaults={toggle:true};e.fn.collapse.Constructor=t;e.fn.collapse.noConflict=function(){e.fn.collapse=n;return this};e(document).on("click.collapse.data-api","[data-toggle=collapse]",function(t){var n=e(this),r,i=n.attr("data-target")||t.preventDefault()||(r=n.attr("href"))&&r.replace(/.*(?=#[^\s]+$)/,""),s=e(i).data("collapse")?"toggle":n.data();n[e(i).hasClass("in")?"addClass":"removeClass"]("collapsed");e(i).collapse(s)})}(window.jQuery);!function(e){"use strict";e(function(){e.support.transition=function(){var e=function(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"},n;for(n in t){if(e.style[n]!==undefined){return t[n]}}}();return e&&{end:e}}()})}(window.jQuery);!function(e){"use strict";function t(t,n){var r=e.proxy(this.process,this),i=e(t).is("body")?e(window):e(t),s;this.options=e.extend({},e.fn.scrollspy.defaults,n);this.$scrollElement=i.on("scroll.scroll-spy.data-api",r);this.selector=(this.options.target||(s=e(t).attr("href"))&&s.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a";this.$body=e("body");this.refresh();this.process()}t.prototype={constructor:t,refresh:function(){var t=this,n;this.offsets=e([]);this.targets=e([]);n=this.$body.find(this.selector).map(function(){var n=e(this),r=n.data("target")||n.attr("href"),i=/^#\w/.test(r)&&e(r);return i&&i.length&&[[i.position().top+t.$scrollElement.scrollTop(),r]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){t.offsets.push(this[0]);t.targets.push(this[1])})},process:function(){var e=this.$scrollElement.scrollTop()+this.options.offset,t=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,n=t-this.$scrollElement.height(),r=this.offsets,i=this.targets,s=this.activeTarget,o;if(e>=n){return s!=(o=i.last()[0])&&this.activate(o)}for(o=r.length;o--;){s!=i[o]&&e>=r[o]&&(!r[o+1]||e<=r[o+1])&&this.activate(i[o])}},activate:function(t){var n,r;this.activeTarget=t;e(this.selector).parent(".active").removeClass("active");r=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]';n=e(r).parent("li").addClass("active");if(n.parent(".dropdown-menu").length){n=n.closest("li.dropdown").addClass("active")}n.trigger("activate")}};var n=e.fn.scrollspy;e.fn.scrollspy=function(n){return this.each(function(){var r=e(this),i=r.data("scrollspy"),s=typeof n=="object"&&n;if(!i)r.data("scrollspy",i=new t(this,s));if(typeof n=="string")i[n]()})};e.fn.scrollspy.Constructor=t;e.fn.scrollspy.defaults={offset:10};e.fn.scrollspy.noConflict=function(){e.fn.scrollspy=n;return this};e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery);!function(e){"use strict";var t=function(e,t){this.init("tooltip",e,t)};t.prototype={constructor:t,init:function(t,n,r){var i,s;this.type=t;this.$element=e(n);this.options=this.getOptions(r);this.enabled=true;if(this.options.trigger=="click"){this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this))}else if(this.options.trigger!="manual"){i=this.options.trigger=="hover"?"mouseenter":"focus";s=this.options.trigger=="hover"?"mouseleave":"blur";this.$element.on(i+"."+this.type,this.options.selector,e.proxy(this.enter,this));this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.leave,this))}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},getOptions:function(t){t=e.extend({},e.fn[this.type].defaults,t,this.$element.data());if(t.delay&&typeof t.delay=="number"){t.delay={show:t.delay,hide:t.delay}}return t},enter:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);if(!n.options.delay||!n.options.delay.show)return n.show();clearTimeout(this.timeout);n.hoverState="in";this.timeout=setTimeout(function(){if(n.hoverState=="in")n.show()},n.options.delay.show)},leave:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);if(this.timeout)clearTimeout(this.timeout);if(!n.options.delay||!n.options.delay.hide)return n.hide();n.hoverState="out";this.timeout=setTimeout(function(){if(n.hoverState=="out")n.hide()},n.options.delay.hide)},show:function(){var e,t,n,r,i,s,o;if(this.hasContent()&&this.enabled){e=this.tip();this.setContent();if(this.options.animation){e.addClass("fade")}s=typeof this.options.placement=="function"?this.options.placement.call(this,e[0],this.$element[0]):this.options.placement;t=/in/.test(s);e.detach().css({top:0,left:0,display:"block"}).insertAfter(this.$element);n=this.getPosition(t);r=e[0].offsetWidth;i=e[0].offsetHeight;switch(t?s.split(" ")[1]:s){case"bottom":o={top:n.top+n.height,left:n.left+n.width/2-r/2};break;case"top":o={top:n.top-i,left:n.left+n.width/2-r/2};break;case"left":o={top:n.top+n.height/2-i/2,left:n.left-r};break;case"right":o={top:n.top+n.height/2-i/2,left:n.left+n.width};break}e.offset(o).addClass(s).addClass("in")}},setContent:function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t);e.removeClass("fade in top bottom left right")},hide:function(){function r(){var t=setTimeout(function(){n.off(e.support.transition.end).detach()},500);n.one(e.support.transition.end,function(){clearTimeout(t);n.detach()})}var t=this,n=this.tip();n.removeClass("in");e.support.transition&&this.$tip.hasClass("fade")?r():n.detach();return this},fixTitle:function(){var e=this.$element;if(e.attr("title")||typeof e.attr("data-original-title")!="string"){e.attr("data-original-title",e.attr("title")||"").removeAttr("title")}},hasContent:function(){return this.getTitle()},getPosition:function(t){return e.extend({},t?{top:0,left:0}:this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight})},getTitle:function(){var e,t=this.$element,n=this.options;e=t.attr("data-original-title")||(typeof n.title=="function"?n.title.call(t[0]):n.title);return e},tip:function(){return this.$tip=this.$tip||e(this.options.template)},validate:function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}},enable:function(){this.enabled=true},disable:function(){this.enabled=false},toggleEnabled:function(){this.enabled=!this.enabled},toggle:function(t){var n=e(t.currentTarget)[this.type](this._options).data(this.type);n[n.tip().hasClass("in")?"hide":"show"]()},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}};var n=e.fn.tooltip;e.fn.tooltip=function(n){return this.each(function(){var r=e(this),i=r.data("tooltip"),s=typeof n=="object"&&n;if(!i)r.data("tooltip",i=new t(this,s));if(typeof n=="string")i[n]()})};e.fn.tooltip.Constructor=t;e.fn.tooltip.defaults={animation:true,placement:"top",selector:false,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover",title:"",delay:0,html:false};e.fn.tooltip.noConflict=function(){e.fn.tooltip=n;return this}}(window.jQuery);!function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype,{constructor:t,setContent:function(){var e=this.tip(),t=this.getTitle(),n=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t);e.find(".popover-content")[this.options.html?"html":"text"](n);e.removeClass("fade top bottom left right in")},hasContent:function(){return this.getTitle()||this.getContent()},getContent:function(){var e,t=this.$element,n=this.options;e=t.attr("data-content")||(typeof n.content=="function"?n.content.call(t[0]):n.content);return e},tip:function(){if(!this.$tip){this.$tip=e(this.options.template)}return this.$tip},destroy:function(){this.hide().$element.off("."+this.type).removeData(this.type)}});var n=e.fn.popover;e.fn.popover=function(n){return this.each(function(){var r=e(this),i=r.data("popover"),s=typeof n=="object"&&n;if(!i)r.data("popover",i=new t(this,s));if(typeof n=="string")i[n]()})};e.fn.popover.Constructor=t;e.fn.popover.defaults=e.extend({},e.fn.tooltip.defaults,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"></div></div></div>'});e.fn.popover.noConflict=function(){e.fn.popover=n;return this}}(window.jQuery)
;(function(e){if(typeof define==="function"&&define.amd){define(["jquery"],e)}else{e(jQuery)}})(function(e){function n(e){return u.raw?e:encodeURIComponent(e)}function r(e){return u.raw?e:decodeURIComponent(e)}function i(e){return n(u.json?JSON.stringify(e):String(e))}function s(e){if(e.indexOf('"')===0){e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\")}try{e=decodeURIComponent(e.replace(t," "));return u.json?JSON.parse(e):e}catch(n){}}function o(t,n){var r=u.raw?t:s(t);return e.isFunction(n)?n(r):r}var t=/\+/g;var u=e.cookie=function(t,s,a){if(s!==undefined&&!e.isFunction(s)){a=e.extend({},u.defaults,a);if(typeof a.expires==="number"){var f=a.expires,l=a.expires=new Date;l.setDate(l.getDate()+f)}return document.cookie=[n(t),"=",i(s),a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")}var c=t?undefined:{};var h=document.cookie?document.cookie.split("; "):[];for(var p=0,d=h.length;p<d;p++){var v=h[p].split("=");var m=r(v.shift());var g=v.join("=");if(t&&t===m){c=o(g,s);break}if(!t&&(g=o(g))!==undefined){c[m]=g}}return c};u.defaults={};e.removeCookie=function(t,n){if(e.cookie(t)===undefined){return false}e.cookie(t,"",e.extend({},n,{expires:-1}));return!e.cookie(t)}})
;Object.size=function(obj){var size=0,key;for(key in obj){if(obj.hasOwnProperty(key))size++;}
return size;};var overlay_open=false;var form=false;window['run_experiment']=false;var knewton;(function($){knewton={init:function(){$('.hbspt-form form').live('submit',function(){if(!overlay_open){_gaq.push(['_trackEvent','Email','Register','Brand',1]);}});this._init_hovers();this._init_expanders();this._init_subnav();this._init_footer();this._init_grid_fixes();if(!$.browser.msie){$(window).resize((function(){this._init_grid_fixes();}).bind(this));}
var url_root=this._get_url_root();switch(url_root.toLowerCase()){case'/':this._init_home();break;case'careers':this._init_careers();break;case'contact':break;case'blog':case'people':this._init_blog();break;case'platform':this._init_platform();break;case'about':this._init_about();break;case'success':this._init_success();break;case'adaptive-learning-intro':this._init_whitepaper();break;case'partners':this._init_applications();break;case'privacy-policy':this._init_privacy_policy();break;case'pearson':$('.colorbox').colorbox({iframe:true,innerWidth:640,innerHeight:390});break;}},_init_privacy_policy:function(){var annotations=[{text:'our Services can be used by individuals of all ages. If you are at least 13 years of age, we will permit you to create an account with us to allow us to collect information from you to make the Site and Services useful to you.'},{text:'we collect data from Enterprise Users when they interact with the Enterprise Service to make the Enterprise Service useful to you — this data is anonymized to us and will never be associated with you unless you tell us to do so.'},{text:'we comply fully with COPPA.'},{text:'if you are a Child, we will not collect Personal Information from you. For a Child to access our Consumer Service, a Parent will need to create an account for him/her. If a Child Account is created, we collect data from Children to make the Site and Services useful to them, but this data will always be anonymized and not associated with a Child’s identity.'},{text:'if you are an Enterprise User or visitor of the Site, we may ask you to voluntarily provide us an email address.'},{text:'if you are a Registered User, in some instances, you will voluntarily provide us with both personal and non-personal information. You will always know what you are providing us.',offset:30},{text:'we do not ask Children to submit Personal Information. In limited instances we may collect persistent identifiers from Children. If we do so, we will only use these for the internal operations of our Site and for no other purpose.'},{text:'as you interact with the Services, we will collect various types of data based on your interactions. We limit the data we collect to only what we believe is necessary to provide you a personalized learning experience.'},{text:'we also collect additional Non-Personal Data like log information used to help us improve the Site.'},{text:'we do not use cookies for Enterprise Users.'},{text:'to remember your preferences if you visit our Site, our system will give you a cookie. We do not use these to advertise to you. You can turn these off if you want.',offset:30},{text:'we use third parties service providers to augment the Services. These providers may also give you a cookie.'},{text:'we do not collect, use, or share Personal Information from Enterprise Users who have not created a Knewton Account. Where you have created a Knewton Account, we do not rent or sell your Personal Information to anyone. We use it as necessary to provide the Services, to comply with laws or as instructed by you. This Privacy Policy does not limit our ability to use Non-Personal Data — anonymized data that cannot be associated with an individual — for business purposes.'},{text:'there are optional ways we may use and share Personal Information we collect from users who have created a Knewton Account. We will only do this if you permit us to.'},{text:'certain areas of the Consumer Service allow you to disclose Personal Information voluntarily. Also, if we are acquired, we may disclose your information to our successor.'},{text:'you have control over your Personal Information. You can change your sharing preferences, remove Usage Data tied to your account, and/or delete your entire account at any time, but such actions may limit your access and experience with the Services. If you are a visitor to the Site or an Enterprise User who has not created a Knewton Account, we do not collect or store any Personal Information about you.'},{text:'no data security is absolute, but we take the necessary technical, physical, and administrative steps to secure Personal Information. You must also keep it safe. We protect your account by encrypting your password and Personal Identifiers.'},{text:'if you are under 13, do not register with our Site directly. Talk to your Parent.'},{text:'we comply with the U.S.-EU Safe Harbor and the U.S.-Swiss Safe Harbor. If you are outside the U.S., by using the Services, you are consenting to transferring Personal Information to the U.S.'},{text:'if you are a California resident, you are entitled to request specific information regarding our privacy practices.'},{text:'this Privacy Policy may change. If we materially change how we will use your (or your Child’s) Personal Information, we will obtain your consent.'},{text:'there are several ways to contact us if you have any questions or comments about our privacy practices.'}];$('[id^="annotation"]').each(function(i,el){el=$(el);var annotation=annotations[el.attr('id').split('-')[1]];var annotation_text=annotation.text;var offset=$(el).offset();var annotation_html=$('<p><strong>In non-legalese,</strong><br />'+annotation_text+'</p>');var offset_top=offset.top;if(annotation.offset){offset_top+=annotation.offset;}
annotation_html.css('top',offset_top);$('#right').append(annotation_html);});},_show_hubspot:function(){var url=this._parse_url(window.location.href);var force=false;if(url.search=="?force_hubspot_overlay"){force=true;}
var mobile=(/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini/i.test(navigator.userAgent.toLowerCase()));if(!mobile&&((show_hubspot&&$.cookie('hide_hubspot_popup')==undefined)||force)){window['run_experiment']=true;this._init_hubspot();}},_init_hubspot:function(){if(window['run_experiment']){$.colorbox({iframe:true,width:590,height:440,fixed:true,href:'/beta-join?beta-overlay',onOpen:function(){overlay_open=true;},onClosed:function(){overlay_open=false;$.cookie('hide_hubspot_popup',new Date().getTime(),{expires:365*2,path:'/',domain:document.domain.replace('www.','')});}});}},_get_url_last:function(){var parsed=this._parse_url(window.location.href);var parts=parsed.pathname.split('/');for(var i=(parts.length-1);i>=0;i--){if(parts[i]!=''&&!$.isNumeric(parts[i])&&parts[i]!='page'){return parts[i];}}
return'/';},_get_url_root:function(){var parsed=this._parse_url(window.location.href);var parts=parsed.pathname.split('/');for(var i=0;i<parts.length;i++){if(parts[i]!=''){return parts[i];}}
return'/';},_parse_url:function(url){var a=document.createElement('a');a.href=url;return{hash:a.hash,host:a.host,hostname:a.hostname,href:a.href,pathname:a.pathname,port:a.port,protocol:a.protocol,search:a.search}},_init_grid_fixes:function(){if($('#photo-caption').length){setTimeout(function(){$('#photo-caption').css('width',$('#related-photo').width()-40);},300);}},_init_footer:function(){},_init_pjax:function(){$(document).pjax('a','#pjax-container');$(document).on('pjax:start',function(){});$(document).on('pjax:end',function(){});$(document).on('pjax:success',(function(data,status,xhr,options){var clicked=$(data.relatedTarget);if(clicked.attr('href')=='/'){this._init_home();}
$('#subnav li').removeClass('active');var top_nav_item=$('#top-section').val();$('li','#top-nav').removeClass('active');$('li.'+top_nav_item,'#top-nav').addClass('active');}).bind(this));},_init_applications:function(){var page=this._get_url_last();if(page=='applications'||!page){if($().popover){$('[rel=popover]').popover();}
$('.custom-select-wrap').each(function(i,el){el=$(el);var select=$('select',el);var title=$('option:selected',select).text();select.css({'z-index':10,'opacity':0,'-khtml-appearance':'none'}).after('<span class="select-background">'+title+'</span>').change(function(){val=$('option:selected',select).text();$(select).next().text(val);});});var open=false;$('#update-support').click(function(){var support=true;var num_selected=0;$('.custom-select-wrap').each(function(i,el){el=$(el);var select=$('select',el);var selected=$('option:selected',select);if(selected.val()){num_selected++;}
if(selected.data('support')==false){support=false;}});if(open){$('.support').slideUp(400,function(){open=false;if(num_selected==3){if(support){$('#supported').slideDown(400,function(){open=true;});}else{$('#not-supported').slideDown(400,function(){open=true;});}}});}else if(num_selected==3){if(support){$('#supported').slideDown(400,function(){open=true;});}else{$('#not-supported').slideDown(400,function(){open=true;});}}});}else if(page=='pearson'){$('.colorbox').colorbox();}},_init_platform:function(){var page=this._get_url_last();switch(page){case'resources':$('#infographics-slider').cycle({next:$('#next'),prev:$('#prev'),fx:'scrollHorz'});break;default:$('.slidewrap').each(function(i){var next=$(this).prevAll('.next');var prev=$(this).prevAll('.prev');var pager=$(this).prevAll('.dots');$(this).cycle({next:next,prev:prev,fx:'scrollHorz',pager:pager,timeout:(i==0?4000:0)});$('a',pager).add(next).add(prev).click(function(){$('.slidewrap.first').cycle('pause');});});$('#partners-slideshow').cycle({fx:'scrollHorz',next:$('#next'),prev:$('#prev'),timeout:8000,pager:'#thumbs',pagerAnchorBuilder:function(idx,slide){var img=$('img',$(slide));return'<a href="javascript:void(0);" class="'+(idx==$('#career-slideshow .slide').length-1?'last':'')+'"><img src="'+img.attr('src')+'" /></a>';}});$('#next, #prev, #thumbs a').click(function(){$('#partners-slideshow').cycle('pause');});break;}},_init_about:function(){var page=this._get_url_last();switch(page){case'press':$('#tweets').cycle({next:$('.tweets-next'),prev:$('.tweets-previous'),fx:'scrollHorz',timeout:3000});$('.show-summary').click(function(){var show=$(this).data('show');$('.show-summary').removeClass('active');$(this).addClass('active');$('.summary').hide();$('#'+show).show();});$('#highlights-slider').cycle({fx:'scrollHorz',next:$('#success-next'),prev:$('#success-prev'),timeout:4100});break;case'success':break;}
if(window.location.href.match(/team/i)){this._init_blog();}},_init_blog:function(){$('#newsletter-signup').click(function(){$(this).hide();$('#newsletter-form').show();});$('#cancel').click(function(){$('#newsletter-form').hide();$('#newsletter-signup').show();});$('#blog-categories').click(function(){if($(this).hasClass('open')){$('#hidden-subnav').slideUp(function(){$('#blog-categories').removeClass('open').addClass('closed');});}else{$('#hidden-subnav').slideDown(function(){$('#blog-categories').removeClass('closed').addClass('open');});}});$('.social').click(function(){var width=575,height=260,left=($(window).width()-width)/2,top=($(window).height()-height)/2,url=$(this).attr('href'),opts='status=1'+',width='+width+',height='+height+',top='+top+',left='+left;window.open(url,'social'+Math.random()*11,opts);return false;});},_turn_counter_numbers_to_html:function(start){start=start+'';start=reverse_string(start);var digits=start.split('');var str='';for(var i in digits){if(isNaN(digits[i])){continue;}
str='<span class="number">'+digits[i]+'</span>'+str;if(i%3==2&&i!=(digits.length-1)){str='<span class="comma">,</span>'+str;}}
return str;},_init_home:function(){$('#tweets').cycle({next:$('.next'),prev:$('.prev'),fx:'scrollHorz'});$('#top h2').fitText({maxFontSize:'18px'});$('#top h2 strong').fitText({maxFontSize:'25px'});setTimeout(function(){$('#infrastructure-text').animate({width:'1059px',height:'124px',top:'65px',left:'56px'},400);},2000);$.get('/wp-content/themes/knewton-v3/get_counter_values.php'+'?rand='+parseInt(Math.random()*100000,10),{},function(response){var format='9,999,999,999';var str=knewton._turn_counter_numbers_to_html(response.start);$('#mobile-counter').html(str);var new_num=response.start;setInterval(function(){new_num++;var str=knewton._turn_counter_numbers_to_html(new_num);$('#mobile-counter').html(str);},response.milliseconds_per_req)
$('.counter').counter({initial:commaSeparateNumber(response.start),stop:false,format:format,direction:'up',interval:response.milliseconds_per_req,origInterval:response.milliseconds_per_req});},'json');},_init_careers:function(){$('#career-slideshow').cycle({fx:'scrollHorz',next:$('#next'),prev:$('#prev'),timeout:8000,pager:'#thumbs',pagerAnchorBuilder:function(idx,slide){var img=$('img',$(slide));return'<a href="javascript:void(0);" class="'+(idx==$('#career-slideshow .slide').length-1?'last':'')+'"><img src="'+img.attr('src')+'" /></a>';}});$('#next, #prev, #thumbs a').click(function(){$('#career-slideshow').cycle('pause');});$.post(knewton_data.ajaxurl,{action:'knewton_get_jobs'},function(response){$('#job-list').empty();var j=0;count=Object.size(response);var str='';for(var i in response){var job=response[i];var last=++j==count?' last':'';str+='<div class="job'+last+'">';str+='<p><a href="'+job.url+'" target="_blank">'+i+'</a></p>';str+='<p class="area">'+job.department+'</p>';str+='</div>';}
$('#job-list').append(str);},'json');},_init_hovers:function(){var nav_preloads=[];$('#top-nav li').each(function(i,el){el=$(el);var bg=el.css('backgroundImage').match(/url\((.*?)\)/)[1];if(!el.hasClass('active')){var preload=bg.replace('nav-background-','nav-background-hover-left-');preload=preload.replace('applications','products');preload=preload+'?=v1';nav_preloads[i]=new Image();nav_preloads[i].src=preload;}});$('.hover').hover(function(){var src=$(this).attr('src');var ext=src.split('.').pop();$(this).attr('src',src.replace('.'+ext,'-hover.'+ext));},function(){var src=$(this).attr('src');var ext=src.split('.').pop();$(this).attr('src',src.replace('-hover.'+ext,'.'+ext));});},_init_expanders:function(){$('.button-expanding').click(function(){if($(this).hasClass('closed')){$('.button-expanding > .content').slideUp(function(){$(this).parent().removeClass('open').addClass('closed');});$(this).removeClass('closed').addClass('open');$('.content',$(this)).slideDown();}else{$('.content',$(this)).slideUp(function(){$(this).parent().removeClass('open').addClass('closed');});}});if(window.location.hash){var hash=window.location.hash.replace(/^#/,'');$('.button-expanding[data-title="'+hash+'"]').trigger('click');}},_init_subnav:function(){$('li.active','#subnav').prev().css('border','0');$('#subnav a').click(function(){var href=$(this).attr('href');if(href&&href.match(/#[^'"\s]+/)){href=href.replace(/.*?#/,'');$('#subnav li').removeClass('active');$(this).parent().addClass('active');var anchor=$('a[name='+href+']');if(!anchor.length){anchor=$('#'+href);}
var offset=$(this).data('offset'||-200);if(anchor.length){knewton._scrollToAnchor(anchor,href,offset);return false;}else{return true;}}});if(window.location.hash){var hash=window.location.hash;window.scroll(0,0);hash=hash.replace(/\./g,'');$('a[href$='+hash+']').click();}},_scrollToAnchor:function(anchor,href,adjust){anchor=$(anchor);if(anchor.length){var offset=anchor.offset().top;if(adjust){offset+=adjust;}
$('html, body').animate({scrollTop:offset},{duration:500,complete:function(){if(href){window.location.hash=href;}}});}},_init_whitepaper:function(){this._init_whitepaper_colorbox();$('.pjax').pjax('#whitepaper-content',{timeout:100000}).live('click',function(){$('#whitepaper-content').height($('#whitepaper-content').height());$('#whitepaper-inner').fadeOut();$('#subnav li').removeClass('active');var href=$(this).attr('href');$('a[href="'+href+'"]','#subnav').parent().addClass('active');});$(document).on('pjax:success',function(){$('#whitepaper-inner').stop().hide().fadeIn();$('#whitepaper-content').height('auto');knewton._init_whitepaper_colorbox();});},_init_whitepaper_colorbox:function(){$('#download').colorbox({iframe:true,width:"80%",height:"80%"});}};knewton._show_hubspot();$(function(){knewton.init();});})(jQuery);function commaSeparateNumber(val){while(/(\d+)(\d{3})/.test(val.toString())){val=val.toString().replace(/(\d+)(\d{3})/,'$1'+','+'$2');}
return val;}
function reverse_string(s){return s.split("").reverse().join("");}
(function($,window,document,undefined){$.attrFn=$.attrFn||{};var dataPropertyName="virtualMouseBindings",touchTargetPropertyName="virtualTouchID",virtualEventNames="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),touchEventProps="clientX clientY pageX pageY screenX screenY".split(" "),mouseHookProps=$.event.mouseHooks?$.event.mouseHooks.props:[],mouseEventProps=$.event.props.concat(mouseHookProps),activeDocHandlers={},resetTimerID=0,startX=0,startY=0,didScroll=false,clickBlockList=[],blockMouseTriggers=false,blockTouchTriggers=false,eventCaptureSupported="addEventListener"in document,$document=$(document),nextTouchID=1,lastTouchID=0;$.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};function getNativeEvent(event){while(event&&typeof event.originalEvent!=="undefined"){event=event.originalEvent;}
return event;}
function createVirtualEvent(event,eventType){var t=event.type,oe,props,ne,prop,ct,touch,i,j;event=$.Event(event);event.type=eventType;oe=event.originalEvent;props=$.event.props;if(t.search(/^(mouse|click)/)>-1){props=mouseEventProps;}
if(oe){for(i=props.length,prop;i;){prop=props[--i];event[prop]=oe[prop];}}
if(t.search(/mouse(down|up)|click/)>-1&&!event.which){event.which=1;}
if(t.search(/^touch/)!==-1){ne=getNativeEvent(oe);t=ne.touches;ct=ne.changedTouches;touch=(t&&t.length)?t[0]:((ct&&ct.length)?ct[0]:undefined);if(touch){for(j=0,len=touchEventProps.length;j<len;j++){prop=touchEventProps[j];event[prop]=touch[prop];}}}
return event;}
function getVirtualBindingFlags(element){var flags={},b,k;while(element){b=$.data(element,dataPropertyName);for(k in b){if(b[k]){flags[k]=flags.hasVirtualBinding=true;}}
element=element.parentNode;}
return flags;}
function getClosestElementWithVirtualBinding(element,eventType){var b;while(element){b=$.data(element,dataPropertyName);if(b&&(!eventType||b[eventType])){return element;}
element=element.parentNode;}
return null;}
function enableTouchBindings(){blockTouchTriggers=false;}
function disableTouchBindings(){blockTouchTriggers=true;}
function enableMouseBindings(){lastTouchID=0;clickBlockList.length=0;blockMouseTriggers=false;disableTouchBindings();}
function disableMouseBindings(){enableTouchBindings();}
function startResetTimer(){clearResetTimer();resetTimerID=setTimeout(function(){resetTimerID=0;enableMouseBindings();},$.vmouse.resetTimerDuration);}
function clearResetTimer(){if(resetTimerID){clearTimeout(resetTimerID);resetTimerID=0;}}
function triggerVirtualEvent(eventType,event,flags){var ve;if((flags&&flags[eventType])||(!flags&&getClosestElementWithVirtualBinding(event.target,eventType))){ve=createVirtualEvent(event,eventType);$(event.target).trigger(ve);}
return ve;}
function mouseEventCallback(event){var touchID=$.data(event.target,touchTargetPropertyName);if(!blockMouseTriggers&&(!lastTouchID||lastTouchID!==touchID)){var ve=triggerVirtualEvent("v"+event.type,event);if(ve){if(ve.isDefaultPrevented()){event.preventDefault();}
if(ve.isPropagationStopped()){event.stopPropagation();}
if(ve.isImmediatePropagationStopped()){event.stopImmediatePropagation();}}}}
function handleTouchStart(event){var touches=getNativeEvent(event).touches,target,flags;if(touches&&touches.length===1){target=event.target;flags=getVirtualBindingFlags(target);if(flags.hasVirtualBinding){lastTouchID=nextTouchID++;$.data(target,touchTargetPropertyName,lastTouchID);clearResetTimer();disableMouseBindings();didScroll=false;var t=getNativeEvent(event).touches[0];startX=t.pageX;startY=t.pageY;triggerVirtualEvent("vmouseover",event,flags);triggerVirtualEvent("vmousedown",event,flags);}}}
function handleScroll(event){if(blockTouchTriggers){return;}
if(!didScroll){triggerVirtualEvent("vmousecancel",event,getVirtualBindingFlags(event.target));}
didScroll=true;startResetTimer();}
function handleTouchMove(event){if(blockTouchTriggers){return;}
var t=getNativeEvent(event).touches[0],didCancel=didScroll,moveThreshold=$.vmouse.moveDistanceThreshold;didScroll=didScroll||(Math.abs(t.pageX-startX)>moveThreshold||Math.abs(t.pageY-startY)>moveThreshold),flags=getVirtualBindingFlags(event.target);if(didScroll&&!didCancel){triggerVirtualEvent("vmousecancel",event,flags);}
triggerVirtualEvent("vmousemove",event,flags);startResetTimer();}
function handleTouchEnd(event){if(blockTouchTriggers){return;}
disableTouchBindings();var flags=getVirtualBindingFlags(event.target),t;triggerVirtualEvent("vmouseup",event,flags);if(!didScroll){var ve=triggerVirtualEvent("vclick",event,flags);if(ve&&ve.isDefaultPrevented()){t=getNativeEvent(event).changedTouches[0];clickBlockList.push({touchID:lastTouchID,x:t.clientX,y:t.clientY});blockMouseTriggers=true;}}
triggerVirtualEvent("vmouseout",event,flags);didScroll=false;startResetTimer();}
function hasVirtualBindings(ele){var bindings=$.data(ele,dataPropertyName),k;if(bindings){for(k in bindings){if(bindings[k]){return true;}}}
return false;}
function dummyMouseHandler(){};function getSpecialEventObject(eventType){var realType=eventType.substr(1);return{setup:function(data,namespace){if(!hasVirtualBindings(this)){$.data(this,dataPropertyName,{});}
var bindings=$.data(this,dataPropertyName);bindings[eventType]=true;activeDocHandlers[eventType]=(activeDocHandlers[eventType]||0)+1;if(activeDocHandlers[eventType]===1){$document.bind(realType,mouseEventCallback);}
$(this).bind(realType,dummyMouseHandler);if(eventCaptureSupported){activeDocHandlers["touchstart"]=(activeDocHandlers["touchstart"]||0)+1;if(activeDocHandlers["touchstart"]===1){$document.bind("touchstart",handleTouchStart).bind("touchend",handleTouchEnd).bind("touchmove",handleTouchMove).bind("scroll",handleScroll);}}},teardown:function(data,namespace){--activeDocHandlers[eventType];if(!activeDocHandlers[eventType]){$document.unbind(realType,mouseEventCallback);}
if(eventCaptureSupported){--activeDocHandlers["touchstart"];if(!activeDocHandlers["touchstart"]){$document.unbind("touchstart",handleTouchStart).unbind("touchmove",handleTouchMove).unbind("touchend",handleTouchEnd).unbind("scroll",handleScroll);}}
var $this=$(this),bindings=$.data(this,dataPropertyName);if(bindings){bindings[eventType]=false;}
$this.unbind(realType,dummyMouseHandler);if(!hasVirtualBindings(this)){$this.removeData(dataPropertyName);}}};}
for(var i=0;i<virtualEventNames.length;i++){$.event.special[virtualEventNames[i]]=getSpecialEventObject(virtualEventNames[i]);}
if(eventCaptureSupported){document.addEventListener("click",function(e){var cnt=clickBlockList.length,target=e.target,x,y,ele,i,o,touchID;if(cnt){x=e.clientX;y=e.clientY;threshold=$.vmouse.clickDistanceThreshold;ele=target;while(ele){for(i=0;i<cnt;i++){o=clickBlockList[i];touchID=0;if((ele===target&&Math.abs(o.x-x)<threshold&&Math.abs(o.y-y)<threshold)||$.data(ele,touchTargetPropertyName)===o.touchID){e.preventDefault();e.stopPropagation();return;}}
ele=ele.parentNode;}}},true);}})(jQuery,window,document);(function($,window,undefined){$.each(("touchstart touchmove touchend tap taphold swipe swipeleft swiperight").split(""),function(i,name){$.fn[name]=function(fn){return fn?this.bind(name,fn):this.trigger(name);};$.attrFn[name]=true;});function triggerCustomEvent(obj,eventType,event){var originalType=event.type;event.type=eventType;$.event.dispatch.call(obj,event);event.type=originalType;}
$.event.special.tap={setup:function(){var thisObject=this,$this=$(thisObject);$this.bind("touchstart",function(event){if(event.which&&event.which!==1){return false;}
var origTarget=event.target,origEvent=event.originalEvent,timer;function clearTapTimer(){clearTimeout(timer);}
function clearTapHandlers(){clearTapTimer();$this.unbind("vclick",clickHandler).unbind("vmouseup",clearTapTimer);$(document).unbind("vmousecancel",clearTapHandlers);}
function clickHandler(event){clearTapHandlers();if(origTarget==event.target){triggerCustomEvent(thisObject,"tap",event);}}
$this.bind("vmouseup",clearTapTimer).bind("vclick",clickHandler);$(document).bind("vmousecancel",clearTapHandlers);timer=setTimeout(function(){triggerCustomEvent(thisObject,"taphold",$.Event("taphold",{target:origTarget}));},750);});}};$.event.special.swipe={scrollSupressionThreshold:10,durationThreshold:1000,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,setup:function(){var thisObject=this,$this=$(thisObject);$this.bind("touchstart",function(event){var data=event.originalEvent.touches?event.originalEvent.touches[0]:event,start={time:(new Date()).getTime(),coords:[data.pageX,data.pageY],origin:$(event.target)},stop;function moveHandler(event){if(!start){return;}
var data=event.originalEvent.touches?event.originalEvent.touches[0]:event;stop={time:(new Date()).getTime(),coords:[data.pageX,data.pageY]};if(Math.abs(start.coords[0]-stop.coords[0])>$.event.special.swipe.scrollSupressionThreshold){event.preventDefault();}}
$this.bind("touchmove",moveHandler).one("touchend",function(event){$this.unbind("touchmove",moveHandler);if(start&&stop){if(stop.time-start.time<$.event.special.swipe.durationThreshold&&Math.abs(start.coords[0]-stop.coords[0])>$.event.special.swipe.horizontalDistanceThreshold&&Math.abs(start.coords[1]-stop.coords[1])<$.event.special.swipe.verticalDistanceThreshold){start.origin.trigger("swipe").trigger(start.coords[0]>stop.coords[0]?"swipeleft":"swiperight");}}
start=stop=undefined;});});}};$.each({taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(event,sourceEvent){$.event.special[event]={setup:function(){$(this).bind(sourceEvent,$.noop);}};});})(jQuery,this);function update_sidebar(){var $=window.jQuery;var newsletter=$('#newsletter').detach();var icons=$('#social-icons').detach();$('#sidebar ul').eq(0).prepend(icons);$('#sidebar ul').eq(0).prepend(newsletter);}